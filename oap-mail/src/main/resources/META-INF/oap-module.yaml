name: oap-mail
services:
  oap-mail-password-authenticator:
    implementation: oap.mail.PasswordAuthenticator

  oap-mail-smtp-transport:
    implementation: oap.mail.SmtpTransport
    parameters:
      authenticator: "@service:oap-mail-password-authenticator"

  send-grid-transport:
    implementation: oap.mail.SendGrditTransport

  oap-mail-queue:
    implementation: oap.mail.MailQueue

  oap-mail-mailman:
    implementation: oap.mail.Mailman
    parameters:
      transport: "@service:oap-mail-smtp-transport"
      queue: "@service:oap-mail-queue"
    supervision:
      schedule: true
      delay: 1m

